<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bosslady Family Events</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f9fafb;
      margin: 0;
      padding: 2rem;
      color: #333;
      scroll-behavior: smooth;
    }
    h1 { text-align: center; color: #2c3e50; margin-bottom: 2rem; }
    .timeline { position: relative; max-width: 900px; margin: 0 auto; }
    .timeline::after {
      content: ''; position: absolute; width: 4px; background-color: #2c3e50;
      top: 0; bottom: 0; left: 50%; margin-left: -2px;
    }
    .event { padding: 1rem 2rem; position: relative; background-color: inherit;
      width: 50%; opacity: 0; transform: translateY(80px);
      transition: all 1s ease;
    }
    .event.visible { opacity: 1; transform: translateY(0); }
    .left { left: 0; }
    .right { left: 50%; }
    .event::after {
      content: ''; position: absolute; width: 25px; height: 25px; right: -12px;
      background-color: white; border: 4px solid #16a085;
      top: 15px; border-radius: 50%; z-index: 1;
    }
    .content {
      padding: 1.5rem; background-color: white; border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center;
      transition: transform 0.6s ease;
    }
    .event.visible .content { transform: scale(1.03); }
    .date { font-weight: bold; color: #16a085; margin-bottom: 0.5rem; }

    .siblings {
      display: flex; justify-content: center; flex-wrap: wrap; gap: 15px;
      margin-top: 1.5rem;
    }
    .sibling-card {
      width: 120px; text-align: center; animation: fadeInUp 1.2s ease forwards;
      position: relative;
    }
    .sibling-card img {
      width: 100%; height: 120px; object-fit: cover; border-radius: 10px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2); transition: transform 0.3s ease;
    }
    .sibling-card img:hover { transform: scale(1.05); }
    .sibling-name { margin-top: 0.5rem; font-weight: bold; color: #2c3e50; font-size: 0.9rem; }
    .edit-buttons {
      margin-top: 5px;
    }
    .edit-buttons button {
      background: #2c3e50; color: white; border: none; border-radius: 5px;
      margin: 2px; padding: 4px 8px; font-size: 0.75rem; cursor: pointer;
    }
    .edit-buttons button:hover { background: #16a085; }

    .btn {
      display: inline-block; background: #2c3e50; color: white; padding: 10px 25px;
      border-radius: 25px; text-decoration: none; transition: background 0.3s ease;
      margin: 2rem auto; text-align: center;
    }
    .btn:hover { background: #16a085; }

    footer { text-align: center; margin-top: 3rem; font-size: 0.9rem; color: #777; }

    @media screen and (max-width: 600px) {
      .timeline::after { left: 31px; }
      .event { width: 100%; padding-left: 70px; padding-right: 25px; }
      .left::after, .right::after { left: 15px; }
      .right { left: 0%; }
    }

    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(50px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* hidden file input */
    #fileInput { display: none; }
  </style>
</head>
<body>

  <h1>üìÖ Bosslady Family Events</h1>

  <div class="timeline">

    <!-- Example Event -->
    <div class="event left">
      <div class="content">
        <div class="date">March 2024</div>
        <h3>üéì Bravin‚Äôs Graduation</h3>
        <p>A proud moment for the Murwa family as <strong>Bravin</strong> completed his degree in Computer Science. A day of joy and inspiration.</p>
        <div class="siblings">
          <div class="sibling-card">
            <img src="images/bravin.jpg" alt="Bravin">
            <div class="sibling-name">Bravin</div>
            <div class="edit-buttons">
              <button onclick="editMember(this)">Edit</button>
              <button onclick="removeMember(this)">Delete</button>
            </div>
          </div>
        </div>
        <button class="btn" onclick="addMember(this)">+ Add Family Member</button>
      </div>
    </div>

  </div>

  <div style="text-align:center;">
    <a href="history.php" class="btn">‚Üê Back to Family History</a>
  </div>

  <footer>
    &copy; 2025 The Bosslady Family ‚Äî Created by Bravin Murwa
  </footer>

  <input type="file" id="fileInput" accept="image/*">

  <script>
    // Animate events on scroll
    const events = document.querySelectorAll('.event');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
        else entry.target.classList.remove('visible');
      });
    }, { threshold: 0.3 });
    events.forEach(event => observer.observe(event));

    // Global file input handler
    const fileInput = document.getElementById('fileInput');
    let activeImgElement = null;

    // Add new family member
    function addMember(btn) {
      const name = prompt("Enter family member's name:");
      if (!name) return;

      fileInput.click();
      fileInput.onchange = e => {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(evt) {
          const siblings = btn.previousElementSibling;
          const card = document.createElement('div');
          card.classList.add('sibling-card');
          card.innerHTML = `
            <img src="${evt.target.result}" alt="${name}">
            <div class="sibling-name">${name}</div>
            <div class="edit-buttons">
              <button onclick="editMember(this)">Edit</button>
              <button onclick="removeMember(this)">Delete</button>
            </div>`;
          siblings.appendChild(card);
        };
        reader.readAsDataURL(file);
      };
    }

    // Edit member details
    function editMember(button) {
      const card = button.closest('.sibling-card');
      const nameDiv = card.querySelector('.sibling-name');
      const newName = prompt("Edit member's name:", nameDiv.textContent);
      if (newName) nameDiv.textContent = newName;

      if (confirm("Change picture too?")) {
        activeImgElement = card.querySelector('img');
        fileInput.click();
        fileInput.onchange = e => {
          const file = e.target.files[0];
          if (!file) return;
          const reader = new FileReader();
          reader.onload = evt => {
            activeImgElement.src = evt.target.result;
          };
          reader.readAsDataURL(file);
        };
      }
    }

    // Remove member
    function removeMember(button) {
      if (confirm("Remove this family member?")) {
        const card = button.closest('.sibling-card');
        card.remove();
      }
    }
  </script>
</body>
</html>
